<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>لوحة التحكم</title>

<style>
body {
    font-family: sans-serif;
    background: #f0f7e9;
    text-align: center;
    padding-top: 70px;
}
.box {
    width: 400px;
    margin: auto;
    background: white;
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 3px 12px rgba(0,0,0,0.2);
}
.logout {
    position: fixed;
    top: 15px;
    left: 15px;
    padding: 10px 15px;
    background: #c62828;
    color: white;
    border-radius: 10px;
    cursor: pointer;
}
.user-list {
    margin-top: 20px;
    text-align: left;
}
.user {
    background: #e6f0dc;
    padding: 10px;
    margin-bottom: 8px;
    border-radius: 8px;
}
</style>

<script>
// حماية لوحة التحكم
if (localStorage.getItem("logged") !== "true" ||
    localStorage.getItem("role") !== "admin") {
    window.location.href = "login.html";
}
</script>

</head>
<body>

<button class="logout" onclick="logout()">تسجيل خروج</button>

<div class="box">
    <h1>لوحة التحكم</h1>

    <h3>المستخدمون:</h3>
    <div id="users" class="user-list"></div>
</div>

<script>
function loadUsers() {
    let users = JSON.parse(localStorage.getItem("users"));

    let html = "";
    users.forEach(u => {
        html += `
            <div class="user">
                <strong>${u.username}</strong> — ${u.role}
            </div>
        `;
    });

    document.getElementById("users").innerHTML = html;
}

function logout() {
    localStorage.clear();
    window.location.href = "login.html";
}

loadUsers();
</script>

</body>
</html>
