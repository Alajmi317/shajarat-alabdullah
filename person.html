<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>الهوية</title>
  <style>
    body { font-family: sans-serif; padding:20px; background:#fafafa; }
    img { width:150px; border-radius:15px; }
    .children { display:flex; gap:20px; margin-top:20px; flex-wrap:wrap; }
    .child-card {
      background:white; padding:10px; border-radius:10px;
      width:150px; text-align:center;
      box-shadow:0 4px 10px rgba(0,0,0,0.1);
      cursor:pointer; transition:0.2s;
    }
    .child-card:hover { transform: scale(1.07); }
    .child-card img { width:80px; height:80px; border-radius:50%; object-fit:cover; }
  </style>
</head>
<body>

<div id="content"></div>

<script>
  const params = new URLSearchParams(location.search);
  const id = Number(params.get("id"));

  fetch("people.json")
    .then(res => res.json())
    .then(data => {
      const person = data.find(p => p.id === id);

      const html = `
        <h1>${person.name}</h1>
        <img src="${person.image}">
        <p>الميلاد: ${person.birth}</p>
        <p>المدينة: ${person.city}</p>

        <h2>الأبناء</h2>
        <div class="children">
          ${person.children.map(childId => {
            const child = data.find(p => p.id === childId);
            return `
              <div class="child-card" onclick="location.href='person.html?id=${child.id}'">
                <img src="${child.image}">
                <p>${child.name}</p>
              </div>
            `;
          }).join("")}
        </div>
      `;

      document.getElementById("content").innerHTML = html;
    });
</script>

</body>
</html>
